<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7 -7 722.619140625 1300" style="max-width: 722.619140625px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="export-svg"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"); p {margin: 0;}</style><style>#export-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#export-svg .error-icon{fill:#552222;}#export-svg .error-text{fill:#552222;stroke:#552222;}#export-svg .edge-thickness-normal{stroke-width:1px;}#export-svg .edge-thickness-thick{stroke-width:3.5px;}#export-svg .edge-pattern-solid{stroke-dasharray:0;}#export-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#export-svg .edge-pattern-dashed{stroke-dasharray:3;}#export-svg .edge-pattern-dotted{stroke-dasharray:2;}#export-svg .marker{fill:#333333;stroke:#333333;}#export-svg .marker.cross{stroke:#333333;}#export-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#export-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#export-svg .cluster-label text{fill:#333;}#export-svg .cluster-label span{color:#333;}#export-svg .cluster-label span p{background-color:transparent;}#export-svg .label text,#export-svg span{fill:#333;color:#333;}#export-svg .node rect,#export-svg .node circle,#export-svg .node ellipse,#export-svg .node polygon,#export-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#export-svg .rough-node .label text,#export-svg .node .label text{text-anchor:middle;}#export-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#export-svg .node .label{text-align:center;}#export-svg .node.clickable{cursor:pointer;}#export-svg .arrowheadPath{fill:#333333;}#export-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#export-svg .flowchart-link{stroke:#333333;fill:none;}#export-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#export-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#export-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#export-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#export-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#export-svg .cluster text{fill:#333;}#export-svg .cluster span{color:#333;}#export-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#export-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#export-svg .node .neo-node{stroke:#9370DB;}#export-svg [data-look="neo"].node rect,#export-svg [data-look="neo"].cluster rect,#export-svg [data-look="neo"].node polygon{stroke:#9370DB;filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node rect,#export-svg [data-look="neo"].node polygon,#export-svg [data-look="neo"].node path{stroke:none;filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node .neo-line path{stroke:hsl(240, 60%, 86.2745098039%);filter:none;}#export-svg [data-look="neo"].node circle{stroke:#9370DB;filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node circle .state-start{fill:#000000;}#export-svg [data-look="neo"].statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#export-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="export-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="export-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="export-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="export-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="export-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="export-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_A_F_0" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_0" d="M138,406L138,420.167C138,434.333,138,462.667,145.51,483.917C153.019,505.167,168.039,519.333,182.573,533.043C197.107,546.752,211.157,560.004,218.181,566.629L225.206,573.255"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_C_D_1" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M400.926,134L400.926,148.167C400.926,162.333,400.926,190.667,400.926,212.917C400.926,235.167,400.926,251.333,400.926,266.833C400.926,282.333,400.926,297.167,400.926,304.583L400.926,312"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_D_F_2" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_F_2" d="M400.926,394L400.926,410.167C400.926,426.333,400.926,458.667,393.416,481.917C385.906,505.167,370.887,519.333,356.353,533.043C341.819,546.752,327.769,560.004,320.745,566.629L313.72,573.255"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_F_G_3" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_3" d="M269.463,654L269.463,666.167C269.463,678.333,269.463,702.667,269.463,721.917C269.463,741.167,269.463,755.333,269.463,768.833C269.463,782.333,269.463,795.167,269.463,801.583L269.463,808"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_G_H_4" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_4" d="M269.463,866L269.463,878.167C269.463,890.333,269.463,914.667,269.463,934.917C269.463,955.167,269.463,971.333,269.463,986.833C269.463,1002.333,269.463,1017.167,269.463,1024.583L269.463,1032"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_H_R_5" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_R_5" d="M269.463,1090L269.463,1100.167C269.463,1110.333,269.463,1130.667,273.591,1142.917C277.718,1155.167,285.974,1159.333,293.634,1163.2C301.294,1167.066,308.359,1170.632,311.892,1172.415L315.424,1174.198"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_X_Y_6" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_X_Y_6" d="M570.619,878L570.619,888.167C570.619,898.333,570.619,918.667,570.619,933.917C570.619,949.167,570.619,959.333,570.619,968.833C570.619,978.333,570.619,987.167,570.619,991.583L570.619,996"></path><path marker-end="url(#export-svg_flowchart-v2-pointEnd)" data-id="L_Y_R_7" data-et="edge" data-edge="true" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Y_R_7" d="M570.619,1126L570.619,1130.167C570.619,1134.333,570.619,1142.667,566.491,1148.917C562.364,1155.167,554.108,1159.333,546.448,1163.2C538.788,1167.066,531.723,1170.632,528.19,1172.415L524.658,1174.198"></path></g><g class="edgeLabels"><g transform="translate(138, 491)" class="edgeLabel"><g transform="translate(-100, -60)" data-id="L_A_F_0" class="label"><foreignObject height="120" width="200"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="edgeLabel"><p>spod_get(<br/>type = 'origin-destination',<br/>zones = 'districts',<br/>dates = c(start = '2020-02-14', end = '2020-03-14') )</p></span></div></foreignObject></g></g><g transform="translate(400.92578125, 219)" class="edgeLabel"><g transform="translate(-100, -60)" data-id="L_C_D_1" class="label"><foreignObject height="120" width="200"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="edgeLabel"><p>spod_convert(<br/>type = 'origin-destination',<br/>zones = 'districts',<br/>dates = c(start = '2020-02-14', end = '2021-05-09') )</p></span></div></foreignObject></g></g><g transform="translate(400.92578125, 491)" class="edgeLabel"><g transform="translate(-55.14453125, -12)" data-id="L_D_F_2" class="label"><foreignObject height="24" width="110.2890625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="edgeLabel"><p>spod_connect()</p></span></div></foreignObject></g></g><g transform="translate(269.462890625, 727)" class="edgeLabel"><g transform="translate(-100, -48)" data-id="L_F_G_3" class="label"><foreignObject height="96" width="200"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="edgeLabel"><p>dplyr functions: select(), filter(), mutate(), group_by(), summarise(), etc...</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" data-id="L_G_H_4" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" data-id="L_H_R_5" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(570.619140625, 939)" class="edgeLabel"><g transform="translate(-62.85546875, -36)" data-id="L_X_Y_6" class="label"><foreignObject height="72" width="125.7109375"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="edgeLabel"><p>spod_get_zones(<br/>zones = 'districts',<br/>ver = 1 )</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" data-id="L_Y_R_7" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(138, 355)" data-look="classic" data-et="node" data-node="true" data-id="A" id="flowchart-A-630" class="node default"><rect stroke="url(#gradient)" height="102" width="260" y="-51" x="-130" data-et="node" data-id="A" style="" class="basic label-container"></rect><g transform="translate(-100, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="nodeLabel"><p>For quick analysis of few dates<br/>work with raw CSV.gz data</p></span></div></foreignObject></g></g><g transform="translate(269.462890625, 615)" data-look="classic" data-et="node" data-node="true" data-id="F" id="flowchart-F-631" class="node default"><rect stroke="url(#gradient)" height="78" width="260" y="-39" x="-130" data-et="node" data-id="F" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="nodeLabel"><p>'tbl' object with 'id' for origins and destinations</p></span></div></foreignObject></g></g><g transform="translate(400.92578125, 71)" data-look="classic" data-et="node" data-node="true" data-id="C" id="flowchart-C-632" class="node default"><rect stroke="url(#gradient)" height="126" width="260" y="-63" x="-130" data-et="node" data-id="C" style="" class="basic label-container"></rect><g transform="translate(-100, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="nodeLabel"><p>Analyse longer periods (several months)<br/>or even the whole dataset over several years</p></span></div></foreignObject></g></g><g transform="translate(400.92578125, 355)" data-look="classic" data-et="node" data-node="true" data-id="D" id="flowchart-D-633" class="node default"><rect stroke="url(#gradient)" height="78" width="165.8515625" y="-39" x="-82.92578125" data-et="node" data-id="D" style="" class="basic label-container"></rect><g transform="translate(-52.92578125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="105.8515625"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="nodeLabel"><p>path to<br/>converted data</p></span></div></foreignObject></g></g><g transform="translate(269.462890625, 839)" data-look="classic" data-et="node" data-node="true" data-id="G" id="flowchart-G-637" class="node default"><rect stroke="url(#gradient)" height="54" width="159.578125" y="-27" x="-79.7890625" data-et="node" data-id="G" style="" class="basic label-container"></rect><g transform="translate(-49.7890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="99.578125"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="nodeLabel"><p>dplyr::collect()</p></span></div></foreignObject></g></g><g transform="translate(269.462890625, 1063)" data-look="classic" data-et="node" data-node="true" data-id="H" id="flowchart-H-639" class="node default"><rect stroke="url(#gradient)" height="54" width="242.3125" y="-27" x="-121.15625" data-et="node" data-id="H" style="" class="basic label-container"></rect><g transform="translate(-91.15625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="182.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="nodeLabel"><p>Result: data.frame / tibble</p></span></div></foreignObject></g></g><g transform="translate(420.041015625, 1227)" data-look="classic" data-et="node" data-node="true" data-id="R" id="flowchart-R-640" class="node default"><rect stroke="url(#gradient)" height="102" width="260" y="-51" x="-130" data-et="node" data-id="R" style="" class="basic label-container"></rect><g transform="translate(-100, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="nodeLabel"><p>spatial data matched by 'id' with aggegated mobility flows</p></span></div></foreignObject></g></g><g transform="translate(570.619140625, 839)" data-look="classic" data-et="node" data-node="true" data-id="X" id="flowchart-X-641" class="node default"><rect stroke="url(#gradient)" height="78" width="141.8359375" y="-39" x="-70.91796875" data-et="node" data-id="X" style="" class="basic label-container"></rect><g transform="translate(-40.91796875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="81.8359375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px;"><span class="nodeLabel"><p>spatial data<br/>with zones</p></span></div></foreignObject></g></g><g transform="translate(570.619140625, 1063)" data-look="classic" data-et="node" data-node="true" data-id="Y" id="flowchart-Y-642" class="node default"><rect stroke="url(#gradient)" height="126" width="260" y="-63" x="-130" data-et="node" data-id="Y" style="" class="basic label-container"></rect><g transform="translate(-100, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; width: 200px;"><span class="nodeLabel"><p>polygons with zones in sf object<br/>with 'id' that match with origins and destinations</p></span></div></foreignObject></g></g></g></g></g></svg>